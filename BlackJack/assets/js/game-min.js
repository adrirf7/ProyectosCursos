/* prettier-ignore */
const blackJack=(()=>{"use strict";let e=[];const t=["H","D","C","S"],r=["A","J","Q","K"];let n,a=[],l=0,s=0;const o=document.querySelector("#btn-new-game"),c=document.querySelector("#btn-take"),d=document.querySelector("#btn-stop"),i=document.querySelectorAll("#players-points"),u=document.querySelectorAll(".div-cards"),f=(t=2)=>{e=m(),a=[];for(let e=0;e<t;e++)a.push(0);n=a.length-1,l=0,s=0,i.forEach((e=>e.innerHTML=0)),u.forEach((e=>e.innerHTML="")),c.disabled=!1,d.disabled=!1},m=()=>{e=[];for(let r=2;r<=10;r++)for(let n of t)e.push(r+n);for(let n of t)for(let t of r)e.push(t+n);return _.shuffle(e)},p=()=>0===e.length?alert("No quedan cartas en la baraja"):e.pop(),b=(e,t,r)=>{let n=(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:parseInt(t)})(e);for(11===n&&r++,a[t]+=n;a[t]>21&&r>0;)a[t]-=10,r--;return i[t].innerHTML=a[t],a[t]},h=(e,t)=>{const r=document.createElement("img");r.src=`assets/cartas/${e}.png`,r.classList.add("game-card"),u[t].append(r)},g=e=>{let t=0;do{const e=p();t=b(e,n,s),h(e,n)}while(t<e&&e<=21);(()=>{const[e,t]=a;console.log(e,t),setTimeout((()=>{t>e&&t<=21||e>21?alert("Perdiste"):t===e?alert("Empate"):e>t||e<=21&&t>21?alert("Ganaste"):alert("No Controlado")}),100)})()};return c.addEventListener("click",(()=>{const e=p(),t=b(e,0,l);var r;h(e,0),((r=t)>21||21===r)&&(c.disabled=!0,d.disabled=!0,g(r))})),d.addEventListener("click",(()=>{c.disabled=!0,d.disabled=!0,g(a[0])})),o.addEventListener("click",(()=>{f()})),{newGame:f}})();
